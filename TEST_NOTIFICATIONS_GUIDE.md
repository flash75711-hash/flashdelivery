# ุฏููู ุงุฎุชุจุงุฑ ุงูุฅุดุนุงุฑุงุช

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ููุถุญ ููููุฉ ุงุฎุชุจุงุฑ ุฌููุน ุฃููุงุน ุงูุฅุดุนุงุฑุงุช ูู ุงูุชุทุจูู.

---

## ๐งช ุทุฑู ุงูุงุฎุชุจุงุฑ

### 1๏ธโฃ **ุงุฎุชุจุงุฑ ุงูุฅุดุนุงุฑุงุช ุงูุนุงุฆูุฉ (FloatingNotification)**

#### ููุนููุงุก:
1. ุณุฌู ุฏุฎูู ูุนููู
2. ุฃูุดุฆ ุทูุจ ุฌุฏูุฏ ูู:
   - `app/orders/deliver-package.tsx` (ุชูุตูู ุทุฑุฏ)
   - `app/orders/outside-order.tsx` (ุทูุจ ูู ุฎุงุฑุฌ)
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**: 
   - ุฅุดุนุงุฑ ุนุงุฆู ูุธูุฑ ูู ุฃุนูู ุงูุดุงุดุฉ: "ุชู ุฅูุดุงุก ุงูุทูุจ ุจูุฌุงุญ"
   - ุงูุฅุดุนุงุฑ ูุธูุฑ ูู `NotificationCard` ูู `customer/home.tsx`

#### ููุณุงุฆููู:
1. ุณุฌู ุฏุฎูู ูุณุงุฆู
2. ุฃูุดุฆ ุทูุจ ุฌุฏูุฏ ูู ูุจู ุนููู ุขุฎุฑ
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
   - ุฅุดุนุงุฑ ุนุงุฆู ูุธูุฑ: "ุทูุจ ุฌุฏูุฏ ูุชุงุญ" (Web ููุท - ูู `useOrderNotifications`)
   - ุฅุดุนุงุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุธูุฑ ูู `NotificationCard` ูู `driver/dashboard.tsx`

---

### 2๏ธโฃ **ุงุฎุชุจุงุฑ ุฅุดุนุงุฑุงุช ุงูุทูุจุงุช (Order Notifications)**

#### ุนูุฏ ูุจูู ุงูุณุงุฆู ููุทูุจ:
1. ุณุฌู ุฏุฎูู ูุณุงุฆู
2. ูุจู ุทูุจ ูู `driver/trips.tsx` ุฃู `driver/my-orders.tsx`
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
   - ุงูุนููู: ุฅุดุนุงุฑ ุนุงุฆู "ุชู ูุจูู ุทูุจู"
   - ุงูุนููู: ุฅุดุนุงุฑ ูู `NotificationCard`

#### ุนูุฏ ุฑูุถ ุงูุณุงุฆู ููุทูุจ:
1. ุณุฌู ุฏุฎูู ูุณุงุฆู
2. ุงุฑูุถ ุทูุจ ูู `driver/my-orders.tsx`
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
   - ุงูุนููู: ุฅุดุนุงุฑ "ุชู ุฑูุถ ุงูุทูุจ ูู ูุจู ุงูุณุงุฆู"

#### ุนูุฏ ุฅูุบุงุก ุงูุนููู ููุทูุจ:
1. ุณุฌู ุฏุฎูู ูุนููู
2. ุฃูุบู ุทูุจ ูู `customer/my-orders.tsx`
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
   - ุงูุณุงุฆู: ุฅุดุนุงุฑ "ุชู ุฅูุบุงุก ุงูุทูุจ" (ุฅุฐุง ูุงู ุงูุทูุจ ููุจููุงู)

---

### 3๏ธโฃ **ุงุฎุชุจุงุฑ ุฅุดุนุงุฑุงุช ุงูุชูุงูุถ**

#### ุนูุฏ ุงูุชุฑุงุญ ุงูุณุงุฆู ุณุนุฑ ุฌุฏูุฏ:
1. ุณุฌู ุฏุฎูู ูุณุงุฆู
2. ูุจู ุทูุจ ูุงุจุฏุฃ ุงูุชูุงูุถ
3. ุงูุชุฑุญ ุณุนุฑ ุฌุฏูุฏ
4. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
   - ุงูุนููู: ุฅุดุนุงุฑ "ุงูุชุฑุญ ุงูุณุงุฆู ุณุนุฑ ุฌุฏูุฏ: X ุฌ.ู"

#### ุนูุฏ ูุจูู ุงูุนููู ุงูุชุฑุงุญ ุงูุณุงุฆู:
1. ุณุฌู ุฏุฎูู ูุนููู
2. ูู ุตูุญุฉ ุชูุงุตูู ุงูุทูุจุ ูุจู ุงูุชุฑุงุญ ุงูุณุงุฆู
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
   - ุงูุณุงุฆู: ุฅุดุนุงุฑ "ุชู ูุจูู ุงูุชุฑุงุญู"

---

### 4๏ธโฃ **ุงุฎุชุจุงุฑ NotificationCard**

#### ููุนููุงุก:
1. ุณุฌู ุฏุฎูู ูุนููู
2. ุงุฐูุจ ุฅูู `customer/home.tsx`
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
   - ูุงุฑุช ุงูุฅุดุนุงุฑุงุช ูุธูุฑ ูู ุฃุนูู ุงูุตูุญุฉ
   - ุนุฏุฏ ุงูุฅุดุนุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ ูุธูุฑ
   - ุงูููุฑ ุนูู ุงููุงุฑุช ููุชุญ Modal ูุน ุฌููุน ุงูุฅุดุนุงุฑุงุช

#### ููุณุงุฆููู:
1. ุณุฌู ุฏุฎูู ูุณุงุฆู
2. ุงุฐูุจ ุฅูู `driver/dashboard.tsx`
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
   - ูุงุฑุช ุงูุฅุดุนุงุฑุงุช ูุธูุฑ ูู ุฃุนูู ุงูุตูุญุฉ
   - ุฌููุน ุงูุฅุดุนุงุฑุงุช (ุจูุง ูู ุฐูู ุฅุดุนุงุฑุงุช ุงูุทูุจุงุช) ุชุธูุฑ

---

## ๐ง ุงุฎุชุจุงุฑ ูุฏูู ุนุจุฑ Supabase

### ุฅูุดุงุก ุฅุดุนุงุฑ ุงุฎุชุจุงุฑ ูุจุงุดุฑุฉ:

```sql
-- ุฅูุดุงุก ุฅุดุนุงุฑ ูุนููู ูุนูู
INSERT INTO notifications (
  user_id,
  title,
  message,
  type,
  is_read,
  created_at
)
VALUES (
  'USER_ID_HERE', -- ุงุณุชุจุฏู ุจู ID ุงูุนููู
  'ุฅุดุนุงุฑ ุงุฎุชุจุงุฑ',
  'ูุฐุง ุฅุดุนุงุฑ ุงุฎุชุจุงุฑ ููุชุญูู ูู ุธููุฑ ุงูุฅุดุนุงุฑุงุช',
  'info',
  false,
  NOW()
);

-- ุฅูุดุงุก ุฅุดุนุงุฑ ูุณุงุฆู ูุนูู
INSERT INTO notifications (
  user_id,
  title,
  message,
  type,
  order_id, -- ุงุฎุชูุงุฑู
  is_read,
  created_at
)
VALUES (
  'DRIVER_ID_HERE', -- ุงุณุชุจุฏู ุจู ID ุงูุณุงุฆู
  'ุทูุจ ุฌุฏูุฏ ูุชุงุญ',
  'ููุฌุฏ ุทูุจ ุฌุฏูุฏ ุจูููุฉ 50 ุฌ.ู',
  'info',
  'ORDER_ID_HERE', -- ุงุฎุชูุงุฑู
  false,
  NOW()
);
```

---

## โ ูุงุฆูุฉ ุงูุชุญูู ูู ุงูุงุฎุชุจุงุฑ

### ุงูุฅุดุนุงุฑุงุช ุงูุนุงุฆูุฉ (FloatingNotification):
- [ ] ุฅุดุนุงุฑุงุช ุงูุนููุงุก ุชุธูุฑ ุนูุฏ ุฅูุดุงุก ุทูุจ
- [ ] ุฅุดุนุงุฑุงุช ุงูุณุงุฆููู ุชุธูุฑ ุนูุฏ ุฅูุดุงุก ุทูุจ ุฌุฏูุฏ (Web ููุท)
- [ ] ุฅุดุนุงุฑุงุช ุงูุทูุจุงุช ููุณุงุฆููู ุชุธูุฑ (ุจุนุฏ ุงูุฅุตูุงุญ)
- [ ] ุงูุฅุดุนุงุฑุงุช ุชุฎุชูู ุนูุฏ ุงูููุฑ ุนูู "X"
- [ ] ุงูุฅุดุนุงุฑุงุช ุชูุญุฏูุซ ูููุฑูุกุฉ ุนูุฏ ุงูุฅุบูุงู

### NotificationCard:
- [ ] ูุงุฑุช ุงูุฅุดุนุงุฑุงุช ูุธูุฑ ูู `customer/home.tsx`
- [ ] ูุงุฑุช ุงูุฅุดุนุงุฑุงุช ูุธูุฑ ูู `driver/dashboard.tsx`
- [ ] ุนุฏุฏ ุงูุฅุดุนุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ ุตุญูุญ
- [ ] ุงูููุฑ ุนูู ุงููุงุฑุช ููุชุญ Modal
- [ ] ุงูุฅุดุนุงุฑุงุช ุชุธูุฑ ูู Modal ุจุดูู ุตุญูุญ
- [ ] ุงูููุฑ ุนูู ุฅุดุนุงุฑ ูุญุฏูุซู ูููุฑูุก

### ุฅุดุนุงุฑุงุช ุงูุทูุจุงุช:
- [ ] ุฅุดุนุงุฑ ุนูุฏ ูุจูู ุงูุณุงุฆู ููุทูุจ
- [ ] ุฅุดุนุงุฑ ุนูุฏ ุฑูุถ ุงูุณุงุฆู ููุทูุจ
- [ ] ุฅุดุนุงุฑ ุนูุฏ ุฅูุบุงุก ุงูุนููู ููุทูุจ
- [ ] ุฅุดุนุงุฑ ุนูุฏ ุฅูุบุงุก ุงูุณุงุฆู ููุทูุจ

### ุฅุดุนุงุฑุงุช ุงูุชูุงูุถ:
- [ ] ุฅุดุนุงุฑ ุนูุฏ ุงูุชุฑุงุญ ุงูุณุงุฆู ุณุนุฑ ุฌุฏูุฏ
- [ ] ุฅุดุนุงุฑ ุนูุฏ ูุจูู ุงูุนููู ุงูุชุฑุงุญ ุงูุณุงุฆู
- [ ] ุฅุดุนุงุฑ ุนูุฏ ุงูุชุฑุงุญ ุงูุนููู ุณุนุฑ ุฌุฏูุฏ
- [ ] ุฅุดุนุงุฑ ุนูุฏ ูุจูู ุงูุณุงุฆู ุงูุชุฑุงุญ ุงูุนููู

---

## ๐ ุงููุดุงูู ุงููุญุชููุฉ ูุญููููุง

### 1. ุงูุฅุดุนุงุฑุงุช ูุง ุชุธูุฑ
- **ุงูุณุจุจ**: Realtime ุบูุฑ ููุนูู
- **ุงูุญู**: ุชุฃูุฏ ูู ุชูุนูู Realtime ูุฌุฏูู `notifications` ูู Supabase Dashboard

### 2. ุฅุดุนุงุฑุงุช ุงูุทูุจุงุช ููุณุงุฆููู ูุง ุชุธูุฑ
- **ุงูุณุจุจ**: ุชู ุฅุตูุงุญู - ุชุฃูุฏ ูู ุชุญุฏูุซ ุงูููุฏ
- **ุงูุญู**: ุชุฃูุฏ ูู ุฃู `useFloatingNotifications` ูุง ูุชุฎุทู ุฅุดุนุงุฑุงุช ุงูุทูุจุงุช

### 3. ุงูุฅุดุนุงุฑุงุช ุชุธูุฑ ูุฑุชูู
- **ุงูุณุจุจ**: Realtime + Polling ูุนููุงู ูุนุงู
- **ุงูุญู**: ูุฐุง ุทุจูุนู - Polling ูู fallback ููุท

### 4. ุงูุฅุดุนุงุฑุงุช ูุง ุชุธูุฑ ุนูู Mobile
- **ุงูุณุจุจ**: `useOrderNotifications` ูุนูู ุนูู Web ููุท
- **ุงูุญู**: ูุฐุง ููุตูุฏ - Realtime ูุนูู ุจุดูู ุฃูุถู ุนูู Web

---

## ๐ ุงููุชุงุฆุฌ ุงููุชููุนุฉ

ุจุนุฏ ุงูุงุฎุชุจุงุฑุ ูุฌุจ ุฃู:
1. โ ุฌููุน ุงูุฅุดุนุงุฑุงุช ุชุธูุฑ ูู `FloatingNotification`
2. โ ุฌููุน ุงูุฅุดุนุงุฑุงุช ุชุธูุฑ ูู `NotificationCard`
3. โ ุฅุดุนุงุฑุงุช ุงูุทูุจุงุช ููุณุงุฆููู ุชุธูุฑ ุจุดูู ุตุญูุญ
4. โ ุงูุฅุดุนุงุฑุงุช ุชูุญุฏูุซ ูููุฑูุกุฉ ุนูุฏ ุงูุชูุงุนู
5. โ Realtime ูุนูู ุจุดูู ุตุญูุญ (Web)

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก**: $(date)
**ุงูุญุงูุฉ**: โ ุฌุงูุฒ ููุงุฎุชุจุงุฑ

