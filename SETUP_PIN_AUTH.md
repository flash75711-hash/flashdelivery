# ุฎุทูุงุช ุฅุนุฏุงุฏ ูุธุงู PIN - ุฏููู ุณุฑูุน

## ุงูุฎุทูุฉ 1: ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช

1. ุงูุชุญ Supabase Dashboard
2. ุงุฐูุจ ุฅูู **SQL Editor**
3. ุงูุณุฎ ูุญุชูู ููู `pin_auth_migration.sql`
4. ุงูุตูู ูู SQL Editor
5. ุงุถุบุท **Run** ุฃู **Execute**

โ ูุฐุง ุณูุถูู ุงูุฃุนูุฏุฉ ุงููุทููุจุฉ: `pin_hash`, `failed_attempts`, `locked_until`

---

## ุงูุฎุทูุฉ 2: ุฅูุดุงุก ูุณุชุฎุฏู Admin

### ุงูุทุฑููุฉ ุงูุฃููู: ุงุณุชุฎุฏุงู Script (ููุตู ุจู)

1. ุชุฃูุฏ ูู ูุฌูุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ:
   ```bash
   # ูู ููู .env ุฃู ูู Vercel Secrets
   EXPO_PUBLIC_SUPABASE_URL=your_supabase_url
   SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
   ```

2. ููุฐ ุงูู script:
   ```bash
   node scripts/create-admin.js
   ```

### ุงูุทุฑููุฉ ุงูุซุงููุฉ: ูุฏููุงู ูู Supabase

1. ุงุฐูุจ ุฅูู **Authentication > Users**
2. ุงุถุบุท **Add User** ุฃู **Create User**
3. ุฃุฏุฎู:
   - **Phone**: `+201200006637`
   - **Email**: `admin@flash-delivery.local` (ูุคูุช)
   - **Password**: (ุณูุชู ุฅูุดุงุคู ุชููุงุฆูุงู)

4. ูู **SQL Editor**ุ ููุฐ:
   ```sql
   -- ุฃููุงูุ ุงุญุตู ุนูู hash PIN ูู ุงูููุฏ ุฃู ุงุณุชุฎุฏู bcrypt
   -- ุซู ููุฐ:
   UPDATE profiles
   SET 
     pin_hash = '$2b$10$YOUR_HASH_HERE',
     role = 'admin',
     status = 'active',
     failed_attempts = 0,
     locked_until = NULL
   WHERE phone = '+201200006637';
   ```

---

## ุงูุฎุทูุฉ 3: ุงุฎุชุจุงุฑ ุงููุธุงู

1. ุดุบูู ุงูุชุทุจูู:
   ```bash
   npm start
   ```

2. ุงูุชุญ ุงููุชุตูุญ ุนูู `http://localhost:8081`

3. ุงุฐูุจ ุฅูู ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู

4. ุฃุฏุฎู:
   - **ุฑูู ุงูููุจุงูู**: `01200006637`
   - **PIN**: `000000`

5. ูุฌุจ ุฃู ูุชู ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญ! โ

---

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฎุทุฃ: "ุฑูู ุงูููุจุงูู ุบูุฑ ูุณุฌู"
- ุชุฃูุฏ ูู ุชูููุฐ Migration SQL
- ุชุญูู ูู ูุฌูุฏ ุงููุณุชุฎุฏู ูู ุฌุฏูู `profiles`

### ุฎุทุฃ: "ุฑูุฒ PIN ุบูุฑ ุตุญูุญ"
- ุชุฃูุฏ ูู ุฃู `pin_hash` ููุฌูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุชุญูู ูู ุฃู PIN hash ุตุญูุญ (ุงุณุชุฎุฏู bcrypt)

### ุฎุทุฃ: "ูุดู ุฅูุดุงุก ุงูุญุณุงุจ"
- ุชุญูู ูู RLS policies ูู Supabase
- ุชุฃูุฏ ูู ูุฌูุฏ `SUPABASE_SERVICE_ROLE_KEY`

---

## ููุงุญุธุงุช

- โ Migration SQL ุขูู (ูุณุชุฎุฏู `IF NOT EXISTS`)
- โ ูููู ุชูููุฐู ุนุฏุฉ ูุฑุงุช ุจุฏูู ูุดุงูู
- โ Script ุฅูุดุงุก Admin ูุชุญูู ูู ูุฌูุฏ ุงููุณุชุฎุฏู ุฃููุงู

---

**ุฌุงูุฒ ููุจุฏุก! ๐**

