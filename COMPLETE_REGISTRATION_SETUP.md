# ุฅุนุฏุงุฏ ุฅููุงู ุงูุชุณุฌูู

## ๐ ุงูุฎุทูุงุช ุงููุทููุจุฉ

### 1. ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ููุฐ ููู `database_updates.sql` ูู Supabase SQL Editor:

```sql
-- ุงูุณุฎ ูุญุชูู database_updates.sql ูุงูุตูู ูู Supabase SQL Editor
```

### 2. ุฅุนุฏุงุฏ Supabase Storage

#### ุฅูุดุงุก Bucket ูุตูุฑ ุงูุณุงุฆููู:

1. ุงุฐูุจ ุฅูู Supabase Dashboard โ Storage
2. ุงุถุบุท ุนูู "New bucket"
3. ุงูุงุณู: `driver-documents`
4. Public: **ุบูุฑ ููุนู** (Private)
5. ุงุถุบุท "Create bucket"

#### ุฅุนุฏุงุฏ Policies ููู Bucket:

```sql
-- ุงูุณูุงุญ ููุณุงุฆููู ุจุฑูุน ูููุงุชูู
CREATE POLICY "Drivers can upload own documents"
ON storage.objects FOR INSERT
WITH CHECK (
  bucket_id = 'driver-documents' AND
  (storage.foldername(name))[1] = auth.uid()::text
);

-- ุงูุณูุงุญ ููุณุงุฆููู ุจูุฑุงุกุฉ ูููุงุชูู
CREATE POLICY "Drivers can read own documents"
ON storage.objects FOR SELECT
USING (
  bucket_id = 'driver-documents' AND
  (storage.foldername(name))[1] = auth.uid()::text
);

-- ุงูุณูุงุญ ููุณุงุฆููู ุจุชุญุฏูุซ ูููุงุชูู
CREATE POLICY "Drivers can update own documents"
ON storage.objects FOR UPDATE
USING (
  bucket_id = 'driver-documents' AND
  (storage.foldername(name))[1] = auth.uid()::text
);
```

### 3. ุงูููุฒุงุช ุงููุถุงูุฉ

#### ููุนููู:
- โ ุงูุงุณู ุงููุงูู
- โ ุฑูู ุงูุชููููู
- โ ุฅุถุงูุฉ ุนูุงููู ูุชุนุฏุฏุฉ
- โ ูู ุนููุงู ูุญุชูู ุนูู:
  - ุงุณู ุงูููุงู ุงูุนุงู (ูุซู: "ููู ูุตุฑ")
  - ุฑูู ุงูุนูุงุฑ
  - ุฑูู ุงูุดูุฉ
  - ุงูุฏูุฑ
- โ ุชุญุฏูุฏ ุนููุงู ุงูุชุฑุงุถู

#### ููุณุงุฆู:
- โ ุงูุงุณู ุงููุงูู
- โ ุฑูู ุงูุชููููู
- โ ุฑูุน ุตูุฑุฉ ุงูุจุทุงูุฉ ุงูุดุฎุตูุฉ
- โ ุฑูุน ุตูุฑุฉ ุณูููู

#### ููุฒูุฏ ุงูุฎุฏูุฉ:
- โ ุงุณู ุงูููุงู
- โ ุฑูู ุงูููุงู (ุงุฎุชูุงุฑู)
- โ ุชุญุฏูุฏ ุงููููุน:
  - ุชููุงุฆู (ูู GPS)
  - ูุฏูู (ุงุฎุชูุงุฑ ุนูู ุงูุฎุฑูุทุฉ - ูุฑูุจุงู)

### 4. ุชุฏูู ุงูุชุณุฌูู

1. ุงููุณุชุฎุฏู ูุฎุชุงุฑ ููุน ุงูุญุณุงุจ ููุฏุฎู ุงูุฅูููู/ูููุฉ ุงููุฑูุฑ
2. ูุชู ุฅูุดุงุก ุงูุญุณุงุจ ูู Supabase Auth
3. ูุชู ุฅูุดุงุก ููู ุฃุณุงุณู ูู `profiles` ูุน ุงูุฏูุฑ ููุท
4. ูุชู ุงูุชูุฌูู ุฅูู ุดุงุดุฉ ุฅููุงู ุงูุชุณุฌูู ุญุณุจ ููุน ุงูุญุณุงุจ
5. ุงููุณุชุฎุฏู ูููู ุงูุจูุงูุงุช ุงููุทููุจุฉ
6. ุจุนุฏ ุงูุฅููุงูุ ูุชู ุงูุชูุฌูู ุฅูู ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ

---

## ๐ก ุงูุชุฑุงุญุงุช ูุชุญุณููุงุช

### 1. ููุนููู:
- โ ุฅุถุงูุฉ ุฒุฑ "ุงุณุชุฎุฏุงู ุงููููุน ุงูุญุงูู" ูุชุญุฏูุฏ ุงูุนููุงู ุชููุงุฆูุงู
- โ ุญูุธ ุงูุนูุงููู ุงูุณุงุจูุฉ ูู ูุงุฆูุฉ ููุณุฏูุฉ
- โ ุฅุถุงูุฉ ููุงุญุธุงุช ููู ุนููุงู (ูุซู: "ุงูููุฒู"ุ "ุงูุนูู")

### 2. ููุณุงุฆู:
- โ ุฅุถุงูุฉ ูุนุงููุฉ ููุตูุฑ ูุจู ุงูุฑูุน
- โ ุฅุถุงูุฉ ุชุญูู ูู ุฌูุฏุฉ ุงูุตูุฑุฉ (ูุถูุญุ ุญุฌู)
- โ ุฅุถุงูุฉ ุญุงูุฉ "ููุฏ ุงููุฑุงุฌุนุฉ" ุจุนุฏ ุฑูุน ุงููุณุชูุฏุงุช

### 3. ููุฒูุฏ ุงูุฎุฏูุฉ:
- โ ุฅุถุงูุฉ ุฎุฑูุทุฉ ุชูุงุนููุฉ ูุงุฎุชูุงุฑ ุงููููุน ูุฏููุงู
- โ ุฅุถุงูุฉ ุณุงุนุงุช ุงูุนูู ุฃุซูุงุก ุงูุชุณุฌูู
- โ ุฅุถุงูุฉ ูุตู ููููุงู

### 4. ุชุญุณููุงุช ุนุงูุฉ:
- โ ุฅุถุงูุฉ ุดุฑูุท ุชูุฏู ููุถุญ ุฎุทูุงุช ุงูุชุณุฌูู
- โ ุฅุถุงูุฉ ุฅููุงููุฉ ุญูุธ ุงููุณูุฏุฉ ูุงูุนูุฏุฉ ูุงุญูุงู
- โ ุฅุถุงูุฉ ุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช (ุฑูู ุงูุชูููููุ ุงูุนููุงู)

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. โ ููุฐ `database_updates.sql` ูู Supabase
2. โ ุฃูุดุฆ Storage bucket `driver-documents`
3. โ ููุฐ Storage policies
4. โ ุงุฎุชุจุฑ ุงูุชุณุฌูู ููู ููุน ุญุณุงุจ
5. โณ ุฃุถู ุฎุฑูุทุฉ ูุงุฎุชูุงุฑ ุงููููุน ูุฏููุงู (ูููุณุชูุจู)

